### 리팩터링의 정의

- 리팩터링은 명사적 동사적으로 정의가 가능하다.
`명사적 정의` : 소프트웨어 겉보기 동작은 그대로 유지한 채 `코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법`
`동사적 정의` : 소프트웨어 겉보기 동작은 그대로 유지한 채 `여러가지 리팩터링 기법을 적용하여 소프트웨어를 재구성하다.`

- `리팩터링 하는 동안에는 항상 코드가 정상 작동해야 한다.` 그렇기에 작업이 끝나지 않았어도 언제든 멈출 수 있다.

- 리팩터링을 여러 단계를 통해 작업하다보면 비효율적이라고 생각할 수 있으나, 잘게 나눔으로써, 오히려 작업을 빨리처리할 수 있다.

- 리팩터링 과정에서 성능이 변할 수 있으나, `리팩터링의 목적은 코드를 이해하고 수정하기 쉽게 만드는 것이기에 목적에 집중하도록 하자.`

### 두개의 모자

- 소프트웨어를 개발할 때는 목적이 `기능 추가`냐, `리팩터링`이냐를 명확히 구분해 작업해야한다.
- `기능 추가`시에는 기존코드는 절대 건드리지 않고, `새 기능 추가에만 집중`한다.
- `리팩터링`시에는 `기능 추가는 절대하지 않기로 다짐`하고 리팩터링을 수행해야한다.
- `기능 추가`와 `리팩터링` 두개의 모자를 자주 바꿔 쓸 수 있으나, `현재 내가 지금 하고 있는 작업 목적을 명확히 구분`하고 작업 방식의 차이를 분명하게 인식해야한다.

### 리팩터링을 왜 할까 ?

1. 소프트웨어 설계가 좋아진다.(품질)

`리팩터링을 하지 않으면 코드만으로 설계를 파악하기 어려워지고`, 이에 따라 설계를 유지하기 어려워진다.
같은 일을 하더라도 `설계가 나쁘면 코드가 길어지며, 작업량이 늘어난다`.
`중복 코드 제거는 설계 개선 작업의 가장 중요한 요소`이다. 중복 코드 제거를 통해 `코드를 수정하는데 드는 노력은 크게 줄어들며`, 코드에 중복코드가 많다면 한 부분만 바꾼다고 시스템이 예상대로 동작하지 않을 수 있기에 중복 코드 제거는 바람직한 설계의 핵심이다.

2. 버그를 쉽게 찾을 수 있다.(디버깅)

코드를 이해하기 쉽다는 말은 버그를 찾기 쉽다는 말이기도 하다. `리팩터링을 진행하면서 코드가 하는 일을 깊이 파악하게 되면서 새로 깨달은 것을 곧바로 코드에 반영`하게된다. 또한 `구조를 명확하게 다듬으면 가정하던 점들이 명확하게 드러나며`, 버그를 쉽게 발견할 수 있다.

> 켄트 백 : 나는 뛰어난 프로그래머가 아닙니다. 단지 뛰어난 습관을 가진 괜찮은 프로그래머일 뿐이에요.

3. 프로그래밍 속도를 높일 수 있다.(생산성)

사람들은 리팩터링으로 인해 프로그래밍 시간이 길어질까라고 걱정 할 수 있다.
하지만 `실제 한 시스템을 오래 개발 중인 개발자들과 얘기해보면 초기에는 진척이 빨랐으나, 현재는 새 기능 하나를 추가하는데 훨씬 오래 걸린다는 말을 많이 한다`. 즉, 새로운 기능을 추가할 수록 기존 코드베이스에 녹여내는데 드는 시간이 늘어난다는 것이다.
`또한 기능 추가 후 버그가 자주 발생하며, 해결하는 시간은 더욱 오래걸린다`.
심지어 처음 개발하는게 낫다고 생각하게 될 수 있다.
그러나 `내부 설계가 잘 된 소프트웨어는 새 기능을 추가할 지점과 어떻게 고칠지 쉽게 찾을 수 있다`.
`모듈화가 잘되어있다면 코드 베이스의 일부만 이해`해도 된다.
결국은 `빠른 개발을 위해 리팩터링은 반드시 필요`하다.

> 20년 전에는 설계를 먼저 완벽하게 하고 시작하는게 정설이었으나, 리팩터링을 통해 기존 코드 설계를 얼마든지 개선할 수 있다.

> 지구력 가설 : 내부 설계에 심혈을 기울이면 소프트웨어의 지구력이 높아져 빠르게 개발할 수 있는 상태를 오래 지속할 수 있다는 가설

### 언제 리팩터링을 해야 할까 ?

..작성중..